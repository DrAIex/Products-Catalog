(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[565],{4566:function(e,t,i){Promise.resolve().then(i.bind(i,7284))},7284:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return v}});var n=i(3827),r=i(368),s=i(4090),l=i.t(s,2),c=i(6321),a=i(7005),o=i(1733);let d=l.useSyncExternalStore;var u=i(2046),m=i(9835),h=i(2508),x=i(5195),Z=i(5996),f=i(3340),j=i(4272),p=i(6285),g=i(4073),y=i(5078);function v(){let{items:e,removeItem:t,updateQuantity:i,getTotal:l}=(0,g.Z)(),v=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=(0,o.Z)(),n=void 0!==window.matchMedia,{defaultMatches:r=!1,matchMedia:l=n?window.matchMedia:null,ssrMatchMedia:u=null,noSsr:m=!1}=(0,a.Z)({name:"MuiUseMediaQuery",props:t,theme:i}),h="function"==typeof e?e(i):e;return(void 0!==d?function(e,t,i,n,r){let l=s.useCallback(()=>t,[t]),c=s.useMemo(()=>{if(r&&i)return()=>i(e).matches;if(null!==n){let{matches:t}=n(e);return()=>t}return l},[l,e,n,r,i]),[a,o]=s.useMemo(()=>{if(null===i)return[l,()=>()=>{}];let t=i(e);return[()=>t.matches,e=>(t.addListener(e),()=>{t.removeListener(e)})]},[l,i,e]);return d(o,a,c)}:function(e,t,i,n,r){let[l,a]=s.useState(()=>r&&i?i(e).matches:n?n(e).matches:t);return(0,c.Z)(()=>{let t=!0;if(!i)return;let n=i(e),r=()=>{t&&a(n.matches)};return r(),n.addListener(r),()=>{t=!1,n.removeListener(r)}},[e,i]),l})(h=h.replace(/^@media( ?)/m,""),r,l,u,m)}((0,r.Z)().breakpoints.down("sm"));return(0,n.jsxs)("main",{children:[(0,n.jsx)(y.Z,{}),(0,n.jsxs)(u.Z,{sx:{py:4},children:[(0,n.jsx)(m.Z,{variant:"h4",gutterBottom:!0,children:"Корзина"}),0===e.length?(0,n.jsx)(m.Z,{children:"Корзина пуста"}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(h.ZP,{container:!0,spacing:3,children:e.map(e=>(0,n.jsx)(h.ZP,{item:!0,xs:12,children:(0,n.jsx)(x.Z,{children:(0,n.jsx)(Z.Z,{children:(0,n.jsxs)(h.ZP,{container:!0,spacing:2,alignItems:"center",children:[(0,n.jsx)(h.ZP,{item:!0,xs:12,sm:2,children:(0,n.jsx)(f.Z,{component:"img",image:e.image,alt:e.title,sx:{height:100,objectFit:"contain"}})}),(0,n.jsxs)(h.ZP,{item:!0,xs:12,sm:7,children:[(0,n.jsx)(m.Z,{variant:"h6",children:e.title}),(0,n.jsxs)(m.Z,{color:"text.secondary",children:[e.price," ₽"]})]}),(0,n.jsx)(h.ZP,{item:!0,xs:12,sm:3,children:(0,n.jsxs)(j.Z,{sx:{display:"flex",alignItems:"center",gap:1,flexDirection:v?"row":"column",justifyContent:v?"space-between":"flex-end"},children:[(0,n.jsxs)(j.Z,{sx:{display:"flex",alignItems:"center",gap:1},children:[(0,n.jsx)(p.Z,{variant:"outlined",onClick:()=>i(e.id,Math.max(1,e.quantity-1)),size:"small",children:"-"}),(0,n.jsx)(m.Z,{children:e.quantity}),(0,n.jsx)(p.Z,{variant:"outlined",onClick:()=>i(e.id,e.quantity+1),size:"small",children:"+"})]}),(0,n.jsx)(p.Z,{variant:"outlined",color:"error",onClick:()=>t(e.id),size:"small",children:"Удалить"})]})})]})})})},e.id))}),(0,n.jsx)(j.Z,{sx:{mt:4,textAlign:"right",position:"sticky",bottom:0,bgcolor:"background.paper",p:2,boxShadow:3,borderRadius:1},children:(0,n.jsxs)(m.Z,{variant:"h5",children:["Итого: ",l()," ₽"]})})]})]})]})}},5078:function(e,t,i){"use strict";i.d(t,{Z:function(){return m}});var n=i(3827),r=i(278),s=i(6676),l=i(9835),c=i(6285),a=i(3850),o=i(1293),d=i(8792),u=i(4073);function m(){let e=(0,u.Z)(e=>e.items).reduce((e,t)=>e+t.quantity,0);return(0,n.jsx)(r.Z,{position:"static",children:(0,n.jsxs)(s.Z,{children:[(0,n.jsx)(l.Z,{variant:"h6",component:"div",sx:{flexGrow:1},children:"Каталог товаров"}),(0,n.jsx)(c.Z,{color:"inherit",component:d.default,href:"/",children:"Главная"}),(0,n.jsx)(c.Z,{color:"inherit",component:d.default,href:"/cart",children:(0,n.jsx)(a.Z,{badgeContent:e,color:"secondary",children:(0,n.jsx)(o.Z,{})})})]})})}},4073:function(e,t,i){"use strict";let n=(0,i(2020).Ue)((e,t)=>({items:[],addItem:t=>{e(e=>e.items.find(e=>e.id===t.id)?{items:e.items.map(e=>e.id===t.id?{...e,quantity:e.quantity+1}:e)}:{items:[...e.items,{...t,quantity:1}]})},removeItem:t=>{e(e=>({items:e.items.filter(e=>e.id!==t)}))},updateQuantity:(t,i)=>{e(e=>({items:e.items.map(e=>e.id===t?{...e,quantity:i}:e)}))},clearCart:()=>{e({items:[]})},getTotal:()=>parseFloat(t().items.reduce((e,t)=>e+t.price*t.quantity,0).toFixed(2))}));t.Z=n}},function(e){e.O(0,[776,754,971,69,744],function(){return e(e.s=4566)}),_N_E=e.O()}]);